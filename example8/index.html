


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.6">
    
    
      
        <title>Tutorial 8 - Using the Banyan Launcher - Python Banyan</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4b9ffd7b.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-python-banyan-launcher" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Python Banyan" class="md-header-nav__button md-logo" aria-label="Python Banyan">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Python Banyan
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Tutorial 8  - Using the Banyan Launcher
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Python Banyan" class="md-nav__button md-logo" aria-label="Python Banyan">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Python Banyan
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      User's Guide
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="User's Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        User's Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../users_guide/" title="What Is Python Banyan?" class="md-nav__link">
      What Is Python Banyan?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples_intro/" title="Introduction To The Tutorials" class="md-nav__link">
      Introduction To The Tutorials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" title="Base Class API Reference" class="md-nav__link">
      Base Class API Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example1/" title="Tutorial 1 - A Simple Echo Server/Client" class="md-nav__link">
      Tutorial 1  - A Simple Echo Server/Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example2/" title="Tutorial 2 - Adding Command Line Options To A Component" class="md-nav__link">
      Tutorial 2  - Adding Command Line Options To A Component
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example3/" title="Tutorial 3 - Distributed Applications" class="md-nav__link">
      Tutorial 3  - Distributed Applications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example4/" title="Tutorial 4 - Applications From Components On Differing Platforms" class="md-nav__link">
      Tutorial 4  - Applications From Components On Differing Platforms
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example5/" title="Tutorial 5 - Debugging Using The Monitor" class="md-nav__link">
      Tutorial 5  - Debugging Using The Monitor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example6/" title="Tutorial 6 - Integrating With A GUI Event Loop" class="md-nav__link">
      Tutorial 6  - Integrating With A GUI Event Loop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example7/" title="Tutorial 7 - Installing Components As Executable Modules" class="md-nav__link">
      Tutorial 7  - Installing Components As Executable Modules
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Tutorial 8  - Using the Banyan Launcher
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Tutorial 8 - Using the Banyan Launcher" class="md-nav__link md-nav__link--active">
      Tutorial 8  - Using the Banyan Launcher
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#testing-for-xterm" class="md-nav__link">
    Testing For Xterm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-xterm-for-raspberry-pi-or-debian-based-linux" class="md-nav__link">
    Installing Xterm For Raspberry Pi or Debian Based Linux
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-xterm-for-mac" class="md-nav__link">
    Installing Xterm For Mac
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#launching-components" class="md-nav__link">
    Launching Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-launch-descriptor-file" class="md-nav__link">
    The Launch Descriptor File
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example9/" title="Tutorial 9 - Connecting To Multiple Backplanes" class="md-nav__link">
      Tutorial 9  - Connecting To Multiple Backplanes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example10/" title="Tutorial 10 - Connecting Banyan To An MQTT Network" class="md-nav__link">
      Tutorial 10 - Connecting Banyan To An MQTT Network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../example11/" title="Tutorial 11 - Physical Computing And GPIO" class="md-nav__link">
      Tutorial 11 - Physical Computing And GPIO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../benchmark/" title="Comparing Banyan and MQTT" class="md-nav__link">
      Comparing Banyan and MQTT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      The OneGPIO Project
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="The OneGPIO Project" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        The OneGPIO Project
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gpio_intro/" title="Introducing OneGPIO" class="md-nav__link">
      Introducing OneGPIO
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../common_messaging_protocol/" title="The OneGPIO Messaging Protocol" class="md-nav__link">
      The OneGPIO Messaging Protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../banyan_gateways/" title="An Introduction To OneGPIO Gateways" class="md-nav__link">
      An Introduction To OneGPIO Gateways
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../additional_gateways/" title="Additional Banyan Gateways" class="md-nav__link">
      Additional Banyan Gateways
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../one_gpio_demos/" title="OneGPIO Demos" class="md-nav__link">
      OneGPIO Demos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#testing-for-xterm" class="md-nav__link">
    Testing For Xterm
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-xterm-for-raspberry-pi-or-debian-based-linux" class="md-nav__link">
    Installing Xterm For Raspberry Pi or Debian Based Linux
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-xterm-for-mac" class="md-nav__link">
    Installing Xterm For Mac
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#launching-components" class="md-nav__link">
    Launching Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-launch-descriptor-file" class="md-nav__link">
    The Launch Descriptor File
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="the-python-banyan-launcher">The Python Banyan Launcher</h1>
<p>Launching a Banyan application often involves launching multiple
individual Banyan components. The Python Banyan launcher
simplifies the launch process by allowing you to start all the components
from a single console command.</p>
<p>This source code for the Banyan launcher may be found on <a href="https://github.com/MrYsLab/python_banyan/tree/master/python_banyan/utils/banyan_launcher">GitHub.</a></p>
<p><strong>NOTE:</strong> For Linux, Mac, and Raspberry PI users, the launcher requires <strong>xterm</strong> to be installed on your system.</p>
<p><strong><em>Xterm is not required for Windows, so Windows users can skip to 
<a href="../example8/#launching-components">Launching Components.</a></em></strong></p>
<h2 id="testing-for-xterm">Testing For Xterm</h2>
<p>To determine if xterm is installed on your computer, simply open a terminal window and type:</p>
<pre><code>xterm
</code></pre>

<p>You should see an xterm window similar to the one below appear. If an xterm window does not appear,
then you will need to install xterm.</p>
<p><img align="center" src="../images/xterm_window.png"></p>
<h2 id="installing-xterm-for-raspberry-pi-or-debian-based-linux">Installing Xterm For Raspberry Pi or Debian Based Linux</h2>
<p>In a terminal window type:</p>
<pre><code>sudo apt-get install xterm
</code></pre>

<h2 id="installing-xterm-for-mac">Installing Xterm For Mac</h2>
<p>Please refer to <a href="https://support.apple.com/en-us/ht201341">these instructions.</a></p>
<h2 id="launching-components">Launching Components</h2>
<p>To demonstrate the launcher's use,  we will
launch the <a href="../example5">monitor</a>, the
<a href="../example1/#the-server">simple echo server</a>, and
<a href="../example2">command-line echo client</a>. </p>
<p>All three were installed as executable components in a
 <a href="../example7">previous section</a> of this document.</p>
<p>Launch instructions are specified by creating a comma delimited text file
 called the <strong><em>launch descriptor file</em></strong>. Let's examine the <em>launch descriptor file</em> in detail.</p>
<h2 id="the-launch-descriptor-file">The Launch Descriptor File</h2>
<p>For each Python Banyan component we wish to launch, a corresponding launch description entry is placed in the <em>launch descriptor file</em>.</p>
<p>Let's look at the contents of <a href="https://github.com/MrYsLab/python_banyan/blob/master/python_banyan/utils/banyan_launcher/launch.csv"><em>launch.csv</em></a>
, the comma delimited text file we will use to launch
our components.</p>
<pre><code>command_string,spawn,topic,append_bp_address,auto_restart,wait
monitor,yes,local,no,no,0
server,yes,local,no,yes,0
client,yes,local,no,no,0
</code></pre>

<p>The first line of the file contains the descriptor for each of the entry fields.</p>
<pre><code>command_string,spawn,topic,append_bp_address,auto_restart,wait

</code></pre>

<p><strong>command_string</strong> - this field is the command-line command used to execute the component. 
For this example, the launcher will start the monitor, the server, and client installed as executable modules,
as <a href="../example7">described earlier</a>.</p>
<p>Note that the launcher will execute any command string we enter, so for example,
if the file <em>simple_echo_server.py</em> is in the <em>/home/bob_files/demo</em> directory, we could specify the command
as</p>
<pre><code>python /home/bob_files/demo/simple_echo_server.py,yes,local,no,yes,0
</code></pre>

<p><strong>spawn</strong> - this field determines if the command will be executed in its own
 terminal window. If <strong>yes</strong>, a new window
will be opened, and all component console output will appear in this window. If this field is set to <strong>no</strong>,
 the component will be spawned within the common launcher terminal window, and all console output will be placed
 in that window. There are screenshots below to demonstrate both cases.</p>
<p><strong>topic</strong> - if a component is to be run on the local machine, the topic must be set to <strong><em>local</em></strong>. If you wish
to launch a component on a remote computer, then the <em>topic</em> must be set to something other than <strong><em>local</em></strong>. Note
that the <em>topic</em> mentioned here is for the launcher's purposes and does not affect the application.
Remote launching will be demonstrated <a href="#the-banyan-launch-client">in the Banyan Launch Client section</a>.</p>
<p><strong>append_bp_address</strong> - this field is used mainly when launching components on a remote computer.
If set to <strong><em>yes</em></strong>, the backplane IP address is appended to the command string with a
<strong><em>-b option</em></strong>. The address is the IP address of the local computer. For example, if the backplane IP address is 
used is 192.168.1.100, 
the descriptor entry for the client component was set as follows:</p>
<pre><code>client,yes,remote1,yes,no,0
</code></pre>

<p>The command string sent to the remote computer would be:</p>
<pre><code>client -b 192.168.1.100
</code></pre>

<p>When the component is launched on the remote computer, it will automatically connect to the backplane.
The -b option is used, assuming that the component was built using <a href="../example2">command-line options</a>.</p>
<p><strong>auto_restart</strong> - if this field is set to <em>yes</em>, and
the component crashes, it will
automatically be restarted.</p>
<p><strong>wait</strong> - this is the time in seconds to wait before executing the next line in the script.</p>
<h1 id="the-banyan-launch-server">The Banyan Launch Server</h1>
<p>The Banyan Launch Server (<strong>bls</strong>) is the name of the Banyan application that
reads the <em>Launch Descriptor</em> file and launches the components specified by that file.
The Banyan Launch Server is automatically installed as an executable when you installed
Python Banyan. </p>
<p>When invoking bls, if no launch descriptor file is specified using the -f command-line option,
then bls will assume that a file called <em>launch.csv</em> is being used.</p>
<p>Make sure you have a copy of <em>launch.csv</em> in your current working directory.</p>
<p>Let's execute bls:</p>
<p><img align="center" src="../images/launcher1.png"></p>
<p>We see a standard Banyan header, followed by a list of the components launched with their process IDs(PID).</p>
<p>The launch server first checks to see if a backplane is currently running and, if not, will launch one before
proceeding.</p>
<p>It then launches each of the components specified in the launch descriptor file. Because we specified <em>spawn</em> for
each component, a terminal window is invoked for each component.</p>
<p><img align="center" src="../images/bls1.png"></p>
<p>If we modify launcher.csv to set the server's spawn parameter to <strong><em>no</em></strong>, then the server's output is displayed
in the bls console window.</p>
<pre><code>command_string,spawn,topic,append_bp_address,auto_restart,wait
monitor,yes,local,no,no,0
server,no,local,no,yes,0
client,yes,local,no,no,0

</code></pre>

<p><img align="center" src="../images/launcher4.png"></p>
<h2 id="the-auto-restart-feature">The Auto-Restart Feature</h2>
<p>We specified auto-restart for the server in the launch descriptor file. Let's close the server window
opened by <em>bls</em> and see what happens.</p>
<p><img align="center" src="../images/launcher2.png"></p>
<p>When <strong><em>bls</em></strong> detects that the server process died, it indicates this in
the <strong><em>bls</em></strong> console and then relaunches the server. A new PID
is generated for the relaunch.</p>
<p>If we kill the client, which does not have auto restart enabled, then we see the "DIED" notification.</p>
<p><img align="center" src="../images/launcher3.png"></p>
<h2 id="the-log-file">The Log File</h2>
<p>Anytime a process dies, it is not only noted on the screen, but an entry is placed in
 the banyan log file.
The log file, called banyan_launcher.log, is automatically generated and placed
in the user's home directory.</p>
<h1 id="the-banyan-launch-client">The Banyan Launch Client</h1>
<p>The Banyan Launch Client (<strong>blc</strong>) is invoked on the
remote computer to launch components on the remote computer with a command on the local computer.</p>
<p>To demonstrate how to launch components remotely, we will distribute the components, as
shown below:</p>
<p><img align="center" src="../images/blc1.png"></p>
<p>The Ubuntu computer will run bls and the backplane. Its IP address is 192.168.2.190</p>
<p>The Windows 10 computer will run blc and the client. Its IP address is 192.168.2.180</p>
<p>The Raspberry Pi computer will run blc and the server. Its IP address is 192.168.2.189</p>
<p>All we need to do is install the components on their respective computers
and modify the launch configuration file. Then we start bls,
in the case of this example, on the Ubuntu computer and blc on the remote computers,
Windows 10, and the Raspberry Pi.</p>
<p><strong>NOTE:</strong> The configuration file only resides on the computer that runs <strong><em>bls</em></strong>.
It will send all the launch information to the remote computers.
The remote computers will then manage the applications, including auto-restart if specified.</p>
<h2 id="modified-launch-descriptor-for-remote-launching">Modified Launch Descriptor For Remote Launching</h2>
<pre><code>command_string,spawn,topic,append_bp_address,auto_restart,wait
monitor,yes,local,no,no,0
server,yes,rpi_launch,yes,yes,0
client,yes,windows_launch,yes,no,0
</code></pre>

<p>The lines for the server and client have been modified to set the append_bp_address field to yes.
 Also, a unique topic string is created for each remote computer.  For the echo server that will run on the Raspberry Pi,
the topic string <strong>rpi_launch</strong> was chosen, and for the Windows machine running the echo client,
<strong>windows_launch</strong> was chosen.</p>
<h2 id="invoking-the-banyan-launch-client">Invoking The Banyan Launch Client</h2>
<p>Ensure that you have installed Python Banyan on your computer, which will automatically
install the Banyan launcher programs.</p>
<p>The <strong>blc</strong> application requires 2 command-line arguments to be supplied on the command-line.
 If the required arguments are not supplied, then <strong><em>blc</em></strong> will exit with an error message.</p>
<p>The first required command-line argument
is the application's backplane IP address. The second required field is the topic string
that the remote computer subscribes to receive its launch instructions.</p>
<p>For the Windows machine, <strong>blc</strong> is started with the following command:</p>
<pre><code>blc -b 192.168.2.190 -t windows_launch
</code></pre>

<p>And for the Raspberry Pi:</p>
<pre><code>blc -b 192.168.2.190 -t rpi_launch
</code></pre>

<p>You may start <strong>bls</strong> and the <strong>blc</strong> instances in any order.</p>
<p>When <strong>bls</strong> starts, it will publish Banyan messages with the topics specified in the
Launch Configuration File. The payload will contain the details of the launch for the component.</p>
<p>Using the monitor, we can capture the messages being sent by <strong>bls,</strong> as shown below.</p>
<p><img align="center" src="../images/blc22.png"></p>
<p>After starting <strong><em>bls,</em></strong> we see the following:</p>
<p><img align="center" src="../images/blc3.png"></p>
<p>The backplane and monitor have been started on the local computer.</p>
<p>We next start <strong><em>blc</em></strong> on the Raspberry Pi computer and see the following:</p>
<p><img align="center" src="../images/blc_rpi_1.png"></p>
<p>The Raspberry Pi is awaiting the launch message from <strong><em>bls</em></strong>.</p>
<p>When we start <strong><em>blc</em></strong> on the Windows computer, we see a similar screen:</p>
<p><img align="center" src="../images/blc_windows1.png"></p>
<p>When the launch messages are received on the remote computers, we see the following:</p>
<p><img align="center" src="../images/blc_rpi2.png"></p>
<p><img align="center" src="../images/blc_windows2.png"></p>
<p>After <strong><em>blc</em></strong> launches a program on the remote computer, 
the program's name and process ID (PID), assigned by the remote machine, are displayed.</p>
<p>The local instance of <strong><em>bls</em></strong> reflects the handshake between the local and remote computers:</p>
<p><img align="center" src="../images/bls_remote_1.png"></p>
<p>The PIDs used by the remote computers are shown on the screen.</p>
<h1 id="killing-the-application">Killing The Application</h1>
<p>The Banyan Launch Kill (<strong>blk</strong>) utility allows you to kill all the
local and remote components by issuing a command on  the local computer. The blk utility is installed
automatically when python-banyan.</p>
<p>To use blk, open a terminal or command window and type:</p>
<pre><code>blk
</code></pre>

<p>When we do this, we see the following on the local computer and remote computers,
showing that all processes were killed successfully.</p>
<p><img align="center" src="../images/blk_bls.png"></p>
<p><img align="center" src="../images/blk_rpi.png"></p>
<p><img align="center" src="../images/blk_windows.png"></p>
<p><br>
<br>
Copyright (C) 2017-2020 Alan Yorinks All Rights Reserved</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../example7/" title="Tutorial 7 - Installing Components As Executable Modules" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Tutorial 7  - Installing Components As Executable Modules
              </div>
            </div>
          </a>
        
        
          <a href="../example9/" title="Tutorial 9 - Connecting To Multiple Backplanes" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Tutorial 9  - Connecting To Multiple Backplanes
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.a0c4167b.min.js"></script>
      <script src="../assets/javascripts/bundle.fb26dd1d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>