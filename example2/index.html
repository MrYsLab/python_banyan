
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Tutorial 2 - Adding Command Line Options To A Component - Python Banyan</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#modifying-the-simple-echo-client" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Python Banyan" class="md-header__button md-logo" aria-label="Python Banyan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Banyan
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorial 2  - Adding Command Line Options To A Component
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Python Banyan" class="md-nav__button md-logo" aria-label="Python Banyan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Python Banyan
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          User's Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User's Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          User's Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../users_guide/" class="md-nav__link">
        What Is Python Banyan?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples_intro/" class="md-nav__link">
        Introduction To The Tutorials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        Base Class API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example1/" class="md-nav__link">
        Tutorial 1  - A Simple Echo Server/Client
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tutorial 2  - Adding Command Line Options To A Component
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tutorial 2  - Adding Command Line Options To A Component
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-the-necessary-imports" class="md-nav__link">
    Adding the Necessary Imports
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-the-component-class" class="md-nav__link">
    Modifying The Component Class
  </a>
  
    <nav class="md-nav" aria-label="Modifying The Component Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-startup-function-after-the-class-definition" class="md-nav__link">
    Adding A Startup Function After The Class Definition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-m-option" class="md-nav__link">
    Using The -m Option
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example3/" class="md-nav__link">
        Tutorial 3  - Distributed Applications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example4/" class="md-nav__link">
        Tutorial 4  - Applications From Components On Differing Platforms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example5/" class="md-nav__link">
        Tutorial 5  - Debugging Using The Monitor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example6/" class="md-nav__link">
        Tutorial 6  - Integrating With A GUI Event Loop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example7/" class="md-nav__link">
        Tutorial 7  - Installing Components As Executable Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example8/" class="md-nav__link">
        Tutorial 8  - Using the Banyan Launcher
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example9/" class="md-nav__link">
        Tutorial 9  - Connecting To Multiple Backplanes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example10/" class="md-nav__link">
        Tutorial 10 - Connecting Banyan To An MQTT Network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../example11/" class="md-nav__link">
        Tutorial 11 - Physical Computing And GPIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../benchmark/" class="md-nav__link">
        Comparing Banyan and MQTT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          The OneGPIO Project
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="The OneGPIO Project" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          The OneGPIO Project
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gpio_intro/" class="md-nav__link">
        Introducing OneGPIO
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../common_messaging_protocol/" class="md-nav__link">
        The OneGPIO Messaging Protocol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../banyan_gateways/" class="md-nav__link">
        An Introduction To OneGPIO Gateways
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../additional_gateways/" class="md-nav__link">
        Additional Banyan Gateways
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../one_gpio_demos/" class="md-nav__link">
        OneGPIO Demos
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adding-the-necessary-imports" class="md-nav__link">
    Adding the Necessary Imports
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modifying-the-component-class" class="md-nav__link">
    Modifying The Component Class
  </a>
  
    <nav class="md-nav" aria-label="Modifying The Component Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-a-startup-function-after-the-class-definition" class="md-nav__link">
    Adding A Startup Function After The Class Definition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-m-option" class="md-nav__link">
    Using The -m Option
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="modifying-the-simple-echo-client">Modifying The Simple Echo Client</h1>
<p>Being able to set a component's parameters using command-line options
allows the user to change a component's behavior.</p>
<p>To demonstrate, we will use the existing simple echo client. The
code will be modified to allow the user to do the following via the command line:</p>
<ul>
<li>Specify the Backplane IP address</li>
<li>Specify the publisher and subscriber port numbers</li>
<li>Specify the number of messages to send to the server</li>
<li>Specify a process name to display on the banner</li>
<li>Specify the loop time</li>
</ul>
<p>This example allows the user to specify, none, one, or any combination
of parameters, allowing maximum flexibility.</p>
<p>To process user-specified command-line parameters, we will
use the <a href="https://docs.python.org/3/library/argparse.html">argparse library</a>.</p>
<p>A code comparison will be provided for the modified code.
Any new code that is required is also shown for the feature.</p>
<p>Once we modify the code, we will be able to print a help screen to the console by merely
invoking the program with
a <em>-h</em> command-line option. A list of all command-line options will be displayed
for the user to choose from.</p>
<p><img align="center" src="../images/echo_cmdline_help.png"></p>
<h2 id="adding-the-necessary-imports">Adding the Necessary Imports</h2>
<p>We will import the argparse package as well as the signal package
to the original file. Argparse allows us to create the command
line arguments. The signal enables us to trap and process a Control-C
entered by the user.</p>
<pre><code>    22  import argparse
    23  import signal
</code></pre>
<h2 id="modifying-the-component-class">Modifying The Component Class</h2>
<p>Line 29 declares the name for our modified client.</p>
<p>Lines 31 through 56 provide usage information.</p>
<p>Lines 59 defines the __init__ method, and it accepts a dictionary
of parameters, called <em>kwargs</em>. The kwargs dictionary is populated
near the end of the program.</p>
<p>Lines 88 through 92 dereference the kwargs values and passes the values to the parent class.</p>
<p>The rest of the class definition is unchanged.</p>
<pre><code>    29  class EchoCmdClient(BanyanBase):
    30      &quot;&quot;&quot;
    31      This is an echo client that will allow the user
    32      to specify command line arguments to change the default behavior
    33      of the client.
    34
    35      It sends out a series of messages and expects an
    36      echo reply from the server. When it completes, press enter, and it
    37      will send a message to the server so that it also quits
    38
    39      To use: 1. Start the backplane.
    40              2. Start the server.
    41              3. Start this client.
    42
    43      usage: echo_cmdline_client.py [-h] [-b BACK_PLANE_IP_ADDRESS]
    44                        [-m NUMBER_OF_MESSAGES] [-n PROCESS_NAME]
    45                        [-p PUBLISHER_PORT] [-s SUBSCRIBER_PORT] [-t LOOP_TIME]
    46
    47      optional arguments:
    48        -h, --help            show this help message and exit
    49        -b BACK_PLANE_IP_ADDRESS
    50                              None or IP address used by Back Plane
    51        -m NUMBER_OF_MESSAGES
    52                              Number of messages to publish
    53        -n PROCESS_NAME       Set process name in banner
    54        -p PUBLISHER_PORT     Publisher IP port
    55        -s SUBSCRIBER_PORT    Subscriber IP port
    56        -t LOOP_TIME          Event Loop Timer in seconds
    57      &quot;&quot;&quot;
    58
    59      def __init__(self, **kwargs):
    60
    61          &quot;&quot;&quot;
    62          kwargs is a dictionary that will contain the following keys:
    63
    64          :param back_plane_ip_address: banyan_base back_planeIP Address -
    65                                      if not specified, it will be set to the
    66                                      local computer
    67          :param subscriber_port: banyan_base back plane subscriber port.
    68                 This must match that of the banyan_base backplane
    69          :param publisher_port: banyan_base back plane publisher port.
    70                                 This must match that of the
    71                                 banyan_base backplane.
    72          :param number_of_messages: number of message to transmit
    73          :param process_name: Component identifier
    74          :param loop_time: receive loop sleep time
    75
    76          &quot;&quot;&quot;
    77
    78          # initialize the parent
    79          super(EchoCmdClient, self).__init__(back_plane_ip_address=kwargs['back_plane_ip_address'],
    80                                              subscriber_port=kwargs['subscriber_port'],
    81                                              publisher_port=kwargs['publisher_port'],
    82                                              process_name=kwargs['process_name'],
    83                                              loop_time=kwargs['loop_time'])
    84
    85          # accept banyan messages with the topic of reply
    86          self.set_subscriber_topic('reply')
    87
    88          # sequence number of messages
    89          self.message_number = kwargs['number_of_messages']
    90
    91          # number of messages to send
    92          self.number_of_messages = kwargs['number_of_messages']
    93
    94          # send the first message - make sure that the server is already started
    95          self.publish_payload({'message_number': self.message_number}, 'echo')
    96
    97          # get the reply messages
    98          try:
    99              self.receive_loop()
   100          except KeyboardInterrupt:
   101              self.clean_up()
   102              sys.exit(0)

</code></pre>
<h3 id="adding-a-startup-function-after-the-class-definition">Adding A Startup Function After The Class Definition</h3>
<p>Here, we create a function that follows the class definition. This
function, called echo_cmdline_client(), will instantiate the class
and parse any command-line options that the user may have specified.</p>
<p>This function is contained within lines 125 to 168.</p>
<p>Line 126 creates an instance of an ArgumentParser.</p>
<p>Lines 129 through 144 create the command-line options and adds them
to the argument parser.</p>
<p>Line 146 creates a variable called <em>args</em> and populates args with
the values for all of the command-line options.</p>
<p>Lines 148 through 155 retrieve the option values using the defaults
or the values provided by the user. The options
are then added to a Python dictionary called kw_options.</p>
<p>Line 158 instantiates the class, passing in the kw_options.</p>
<p>Lines 161 through 164 add a signal handler to trap a user entered Control-C.</p>
<p>Line 172 calls the <em>echo_cmdline_client</em> function on line 125 to invoke the client.</p>
<pre><code>   125  def echo_cmdline_client():
   126      parser = argparse.ArgumentParser()
   127      # allow user to bypass the IP address auto-discovery.
   128      # This is necessary if the component resides on a computer
   129      # other than the computing running the backplane.
   130      parser.add_argument(&quot;-b&quot;, dest=&quot;back_plane_ip_address&quot;, default=&quot;None&quot;,
   131                          help=&quot;None or IP address used by Back Plane&quot;)
   132      parser.add_argument(&quot;-m&quot;, dest=&quot;number_of_messages&quot;, default=&quot;10&quot;,
   133                          help=&quot;Number of messages to publish&quot;)
   134      # allow the user to specify a name for the component and have it shown on the console banner.
   135      # modify the default process name to one you wish to see on the banner.
   136      # change the default in the derived class to set the name
   137      parser.add_argument(&quot;-n&quot;, dest=&quot;process_name&quot;, default=&quot;EchoCmdClient&quot;,
   138                          help=&quot;Set process name in banner&quot;)
   139      parser.add_argument(&quot;-p&quot;, dest=&quot;publisher_port&quot;, default='43124',
   140                          help=&quot;Publisher IP port&quot;)
   141      parser.add_argument(&quot;-s&quot;, dest=&quot;subscriber_port&quot;, default='43125',
   142                          help=&quot;Subscriber IP port&quot;)
   143      parser.add_argument(&quot;-t&quot;, dest=&quot;loop_time&quot;, default=&quot;.1&quot;,
   144                          help=&quot;Event Loop Timer in seconds&quot;)
   145  
   146      args = parser.parse_args()
   147  
   148      if args.back_plane_ip_address == 'None':
   149          args.back_plane_ip_address = None
   150      kw_options = {'back_plane_ip_address': args.back_plane_ip_address,
   151                    'number_of_messages': int(args.number_of_messages),
   152                    'publisher_port': args.publisher_port,
   153                    'subscriber_port': args.subscriber_port,
   154                    'process_name': args.process_name,
   155                    'loop_time': float(args.loop_time)}
   156  
   157      # replace with the name of your class
   158      EchoCmdClient(**kw_options)
   159  
   160  
   161  # signal handler function called when Control-C occurs
   162  def signal_handler(sig, frame):
   163      raise KeyboardInterrupt
   164  
   165  
   166  # listen for SIGINT
   167  signal.signal(signal.SIGINT, signal_handler)
   168  signal.signal(signal.SIGTERM, signal_handler)
   169  
   170  
   171  if __name__ == '__main__':
   172      echo_cmdline_client()
</code></pre>
<h2 id="using-the-m-option">Using The -m Option</h2>
<p>We can now specify the number of messages the client produces while accepting the other parameters' default values.</p>
<p>Ensuring that the backplane and server are already running, we can start
the new client, asking it to produce 20 messages.</p>
<pre><code>python3 echo_cmdline_client.py -m 20
</code></pre>
<p>This command will create 20 messages.</p>
<p>Here is what the client console displays after running this command.</p>
<p><img align="center" src="../images/echo_client_20.png"></p>
<p><br>
<br>
Copyright (C) 2017-2020 Alan Yorinks All Rights Reserved</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../example1/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Tutorial 1  - A Simple Echo Server/Client" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Tutorial 1  - A Simple Echo Server/Client
            </div>
          </div>
        </a>
      
      
        
        <a href="../example3/" class="md-footer__link md-footer__link--next" aria-label="Next: Tutorial 3  - Distributed Applications" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Tutorial 3  - Distributed Applications
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.a6c66575.min.js"></script>
      
    
  </body>
</html>